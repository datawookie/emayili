<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Send Email Messages â€¢ emayili</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Send Email Messages">
<meta property="og:description" content="A light, simple tool for sending emails with minimal dependencies.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">emayili</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/datawookie/emayili/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="emayili-">emayili <img src="reference/figures/emayili-hex.png" align="right" alt="" width="120"><a class="anchor" aria-label="anchor" href="#emayili-"></a>
</h1></div>
<!-- badges: start -->

<p><a href="https://datawookie.github.io/emayili/" class="external-link">emayili</a> is a package for sending emails from R. The design goals are:</p>
<ul>
<li>works on all manner of SMTP servers and</li>
<li>has minimal dependencies (or dependencies which are easily satisfied).</li>
</ul>
<p>The package name is an adaption of the Zulu word for email, <em>imeyili</em>.</p>
<p>The documentation for <a href="https://datawookie.github.io/emayili/" class="external-link">emayili</a> can be found <a href="https://datawookie.github.io/emayili/" class="external-link">here</a>.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Get the stable version from <a href="https://CRAN.R-project.org/package=emayili" class="external-link">CRAN</a>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"emayili"</span><span class="op">)</span></code></pre></div>
<p>Or grab it directly from <a href="https://github.com/datawookie/emayili" class="external-link">GitHub</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Install from the master branch.</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"datawookie/emayili"</span><span class="op">)</span>
<span class="co"># Install from the development branch.</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"datawookie/emayili"</span>, ref <span class="op">=</span> <span class="st">"dev"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>Load the library.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://datawookie.github.io/emayili/" class="external-link">emayili</a></span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/packageDescription.html" class="external-link">packageVersion</a></span><span class="op">(</span><span class="st">"emayili"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>[<span class="dv">1</span>] <span class="st">'0.6.9'</span></span></code></pre></div>
<p>Create a message object.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">email</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/envelope.html">envelope</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="creating-a-message">Creating a Message<a class="anchor" aria-label="anchor" href="#creating-a-message"></a>
</h3>
<p>The message has class <code>envelope</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">email</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>[<span class="dv">1</span>] <span class="st">"envelope"</span></span></code></pre></div>
<p>Add addresses for the sender and recipient.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">email</span> <span class="op">&lt;-</span> <span class="va">email</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="reference/addresses.html">from</a></span><span class="op">(</span><span class="st">"alice@yahoo.com"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="reference/addresses.html">to</a></span><span class="op">(</span><span class="st">"bob@google.com"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="reference/addresses.html">cc</a></span><span class="op">(</span><span class="st">"craig@google.com"</span><span class="op">)</span></code></pre></div>
<p>There are also <code><a href="reference/addresses.html">bcc()</a></code> and <code><a href="reference/addresses.html">reply()</a></code> functions for setting the <code>Bcc</code> and <code>Reply-To</code> fields.</p>
<p>You can supply multiple addresses in a variety of formats:</p>
<ul>
<li>as a single comma-separated string</li>
<li>as separate strings; or</li>
<li>as a vector of strings.</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/envelope.html">envelope</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="reference/addresses.html">to</a></span><span class="op">(</span><span class="st">"bob@google.com, craig@google.com, erin@gmail.com"</span><span class="op">)</span>
<span class="fu"><a href="reference/envelope.html">envelope</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="reference/addresses.html">to</a></span><span class="op">(</span><span class="st">"bob@google.com"</span>, <span class="st">"craig@google.com"</span>, <span class="st">"erin@gmail.com"</span><span class="op">)</span>
<span class="fu"><a href="reference/envelope.html">envelope</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="reference/addresses.html">to</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bob@google.com"</span>, <span class="st">"craig@google.com"</span>, <span class="st">"erin@gmail.com"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Add a subject.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">email</span> <span class="op">&lt;-</span> <span class="va">email</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="reference/subject.html">subject</a></span><span class="op">(</span><span class="st">"This is a plain text message!"</span><span class="op">)</span></code></pre></div>
<p>Add a text body.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">email</span> <span class="op">&lt;-</span> <span class="va">email</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="reference/text.html">text</a></span><span class="op">(</span><span class="st">"Hello!"</span><span class="op">)</span></code></pre></div>
<p>You can use <code><a href="reference/html.html">html()</a></code> to add an HTML body. It accepts either a vector of characters or a <code><a href="https://rdrr.io/pkg/htmltools/man/tagList.html" class="external-link">tagList()</a></code> from <a href="https://github.com/rstudio/htmltools" class="external-link">htmltools</a>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/htmltools" class="external-link">htmltools</a></span><span class="op">)</span>

<span class="va">email</span> <span class="op">&lt;-</span> <span class="va">email</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="reference/html.html">html</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/tagList.html" class="external-link">tagList</a></span><span class="op">(</span>
    <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html" class="external-link">h2</a></span><span class="op">(</span><span class="st">"Hello"</span><span class="op">)</span>,
    <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html" class="external-link">p</a></span><span class="op">(</span><span class="st">"World!"</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>Add an attachment.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">email</span> <span class="op">&lt;-</span> <span class="va">email</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="reference/attachment.html">attachment</a></span><span class="op">(</span><span class="st">"image.jpg"</span><span class="op">)</span></code></pre></div>
<p>You can also create the message in a single command:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">email</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/envelope.html">envelope</a></span><span class="op">(</span>
  to <span class="op">=</span> <span class="st">"bob@google.com"</span>,
  from <span class="op">=</span> <span class="st">"alice@yahoo.com"</span>,
  subject <span class="op">=</span> <span class="st">"This is a plain text message!"</span>,
  text <span class="op">=</span> <span class="st">"Hello!"</span>
<span class="op">)</span></code></pre></div>
<p>Simply printing a message displays the header information.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">email</span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>Date<span class="op">:</span><span class="st">                        </span>Wed, <span class="dv">01</span> Dec <span class="dv">2021</span> <span class="dv">08</span><span class="op">:</span><span class="dv">47</span><span class="op">:</span><span class="dv">49</span> GMT</span>
<span id="cb16-2"><a href="#cb16-2"></a>X<span class="op">-</span>Mailer<span class="op">:</span><span class="st">                    </span>{emayili}<span class="op">-</span><span class="dv">0</span>.<span class="fl">6.9</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>MIME<span class="op">-</span>Version<span class="op">:</span><span class="st">                </span><span class="fl">1.0</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>From<span class="op">:</span><span class="st">                        </span>alice<span class="op">@</span>yahoo.com</span>
<span id="cb16-5"><a href="#cb16-5"></a>To<span class="op">:</span><span class="st">                          </span>bob<span class="op">@</span>google.com</span>
<span id="cb16-6"><a href="#cb16-6"></a>Cc<span class="op">:</span><span class="st">                          </span>craig<span class="op">@</span>google.com</span>
<span id="cb16-7"><a href="#cb16-7"></a>Subject<span class="op">:</span><span class="st">                     </span>This is a plain text message<span class="op">!</span></span></code></pre></div>
<p>You can identify emails which have been sent using <a href="https://datawookie.github.io/emayili/" class="external-link">emayili</a> by the presence of an <code>X-Mailer</code> header which includes both the package name and version.</p>
<p>If you want to see the complete MIME object, just convert to a string.</p>
<p>You can also call the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method and specify <code>details = TRUE</code>.</p>
</div>
<div class="section level3">
<h3 id="options">Options<a class="anchor" aria-label="anchor" href="#options"></a>
</h3>
<p>You can set the <code>envelope.details</code> option to assert that the details should always be printed.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Always print envelope details.</span>
<span class="co">#</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>envelope.details <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>By default the results returned by most of the methods are invisible. You can make them visible via the <code>envelope.invisible</code> (default: <code>TRUE</code>).</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Always show envelope.</span>
<span class="co">#</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>envelope.invisible <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="interpolating-text">Interpolating Text<a class="anchor" aria-label="anchor" href="#interpolating-text"></a>
</h3>
<p>You can use <a href="https://github.com/tidyverse/glue" class="external-link">glue</a> syntax to interpolate content into the body of a message.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">name</span> <span class="op">&lt;-</span> <span class="st">"Alice"</span>

<span class="fu"><a href="reference/envelope.html">envelope</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="reference/text.html">text</a></span><span class="op">(</span><span class="st">"Hello {{name}}!"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>Date<span class="op">:</span><span class="st">                        </span>Wed, <span class="dv">01</span> Dec <span class="dv">2021</span> <span class="dv">08</span><span class="op">:</span><span class="dv">47</span><span class="op">:</span><span class="dv">49</span> GMT</span>
<span id="cb20-2"><a href="#cb20-2"></a>X<span class="op">-</span>Mailer<span class="op">:</span><span class="st">                    </span>{emayili}<span class="op">-</span><span class="dv">0</span>.<span class="fl">6.9</span></span>
<span id="cb20-3"><a href="#cb20-3"></a>MIME<span class="op">-</span>Version<span class="op">:</span><span class="st">                </span><span class="fl">1.0</span></span>
<span id="cb20-4"><a href="#cb20-4"></a>Content<span class="op">-</span>Type<span class="op">:</span><span class="st">                </span>text<span class="op">/</span>plain; charset=utf<span class="dv">-8</span>; format=flowed</span>
<span id="cb20-5"><a href="#cb20-5"></a>Content<span class="op">-</span>Disposition<span class="op">:</span><span class="st">         </span>inline</span>
<span id="cb20-6"><a href="#cb20-6"></a>Content<span class="op">-</span>Transfer<span class="op">-</span>Encoding<span class="op">:</span><span class="st">   </span>7bit</span>
<span id="cb20-7"><a href="#cb20-7"></a>Content<span class="op">-</span>MD5<span class="op">:</span><span class="st">                 </span>nhjeY5ZYMzru<span class="op">+</span>kSCGUzNKg<span class="op">==</span></span>
<span id="cb20-8"><a href="#cb20-8"></a></span>
<span id="cb20-9"><a href="#cb20-9"></a>Hello Alice<span class="op">!</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="rendering-markdown">Rendering Markdown<a class="anchor" aria-label="anchor" href="#rendering-markdown"></a>
</h3>
<p>You can render Markdown straight into a message.</p>
<p>Use either plain Markdown.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/envelope.html">envelope</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="co"># Render plain Markdown from a character vector.</span>
  <span class="fu"><a href="reference/render.html">render</a></span><span class="op">(</span>
    <span class="st">"Check out [`{emayili}`](https://cran.r-project.org/package=emayili)."</span>
  <span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>Date<span class="op">:</span><span class="st">                        </span>Wed, <span class="dv">01</span> Dec <span class="dv">2021</span> <span class="dv">08</span><span class="op">:</span><span class="dv">47</span><span class="op">:</span><span class="dv">50</span> GMT</span>
<span id="cb22-2"><a href="#cb22-2"></a>X<span class="op">-</span>Mailer<span class="op">:</span><span class="st">                    </span>{emayili}<span class="op">-</span><span class="dv">0</span>.<span class="fl">6.9</span></span>
<span id="cb22-3"><a href="#cb22-3"></a>MIME<span class="op">-</span>Version<span class="op">:</span><span class="st">                </span><span class="fl">1.0</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>Content<span class="op">-</span>Type<span class="op">:</span><span class="st">                </span>text<span class="op">/</span>html; charset=utf<span class="dv">-8</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>Content<span class="op">-</span>Disposition<span class="op">:</span><span class="st">         </span>inline</span>
<span id="cb22-6"><a href="#cb22-6"></a></span>
<span id="cb22-7"><a href="#cb22-7"></a><span class="op">&lt;!</span>DOCTYPE html PUBLIC <span class="st">"-//W3C//DTD HTML 4.0 Transitional//EN"</span> <span class="st">"http://www.w3.org/TR/REC-html40/loose.dtd"</span><span class="op">&gt;</span></span>
<span id="cb22-8"><a href="#cb22-8"></a><span class="er">&lt;</span>html<span class="op">&gt;</span><span class="er">&lt;</span>body<span class="op">&gt;</span><span class="er">&lt;</span>p<span class="op">&gt;</span>Check out <span class="op">&lt;</span>a href=<span class="st">"https://cran.r-project.org/package=emayili"</span><span class="op">&gt;</span><span class="er">&lt;</span>code<span class="op">&gt;</span>{emayili}<span class="op">&lt;</span><span class="er">/</span>code<span class="op">&gt;</span><span class="er">&lt;/</span>a<span class="op">&gt;</span>.<span class="op">&lt;</span><span class="er">/</span>p<span class="op">&gt;</span><span class="er">&lt;/</span>body<span class="op">&gt;</span><span class="er">&lt;/</span>html<span class="op">&gt;</span></span></code></pre></div>
<p>Or R Markdown.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/envelope.html">envelope</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="co"># Render R Markdown from a file.</span>
  <span class="fu"><a href="reference/render.html">render</a></span><span class="op">(</span><span class="st">"message.Rmd"</span><span class="op">)</span></code></pre></div>
<p>In both cases the function will accept either a file path or a character vector containing Markdown text.</p>
<p><img src="reference/figures/screenshot-email-rendered.png" style="filter: drop-shadow(5px 5px 5px black); margin-bottom: 5px;"></p>
<p>Interpolation also works with <code><a href="reference/render.html">render()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="rendered-css">Rendered CSS<a class="anchor" aria-label="anchor" href="#rendered-css"></a>
</h3>
<p>When you render an R Markdown document the resulting HTML includes CSS from three sources:</p>
<ul>
<li><a href="https://getbootstrap.com/" class="external-link">Bootstrap</a></li>
<li>
<a href="https://highlightjs.org/" class="external-link">highlightjs</a> and</li>
<li>
<a href="https://github.com/rstudio/rmarkdown" class="external-link">rmarkdown</a>.</li>
</ul>
<p>You can control which of these propagate to the message using the <code>include_css</code> parameter which, by default, is set to <code>c("rmd", "bootstrap", "highlight")</code>.</p>
<p>ðŸš¨ <em>Note:</em> Gmail doesnâ€™t like the Bootstrap CSS. If you want your styling to work on Gmail you should set <code>include_css =  c("rmd", "highlight")</code>.</p>
</div>
<div class="section level3">
<h3 id="extra-css">Extra CSS<a class="anchor" aria-label="anchor" href="#extra-css"></a>
</h3>
<p>You can insert extra CSS into your rendered messages.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/envelope.html">envelope</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="reference/render.html">render</a></span><span class="op">(</span><span class="st">"message.Rmd"</span>, css_files <span class="op">=</span> <span class="st">"extra.css"</span><span class="op">)</span></code></pre></div>
<p>If you are having trouble getting this to work with Gmail then it might be worthwhile taking a look at their <a href="https://developers.google.com/gmail/design/css" class="external-link">CSS support</a>.</p>
</div>
<div class="section level3">
<h3 id="adding-an-inline-image">Adding an Inline Image<a class="anchor" aria-label="anchor" href="#adding-an-inline-image"></a>
</h3>
<p>Adding an inline image to an HTML message is possible. There are two ways to achieve this.</p>
<p><em>1. Base64 Encoding</em></p>
<p>First youâ€™ll need to <a href="https://en.wikipedia.org/wiki/Base64" class="external-link">Base64 encode</a> the image.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">img_base64</span> <span class="op">&lt;-</span> <span class="fu">base64enc</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/base64enc/man/base64.html" class="external-link">base64encode</a></span><span class="op">(</span><span class="st">"image.jpg"</span><span class="op">)</span></code></pre></div>
<p>Then create the HTML message body.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">html_body</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">'&lt;html&gt;&lt;body&gt;&lt;img src="data:image/jpeg;base64,%s"&gt;&lt;/body&gt;&lt;/html&gt;'</span>, <span class="va">img_base64</span><span class="op">)</span></code></pre></div>
<p>And finally add it to the email.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">email</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/envelope.html">envelope</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="reference/html.html">html</a></span><span class="op">(</span><span class="va">html_body</span><span class="op">)</span></code></pre></div>
<p><em>Note:</em> Itâ€™s important that you specify the appropriate media type (<code>image/jpeg</code> for JPEG and <code>image/png</code> for PNG).</p>
<p><em>2. Using a CID</em></p>
<p>Unfortunately some mail clients (like Gmail) will not display Base64 encoded images. In this case using a CID is a working alternative.</p>
<p>First create the message body which references an image by CID.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">html_body</span> <span class="op">&lt;-</span> <span class="st">'&lt;html&gt;&lt;body&gt;&lt;img src="cid:image"&gt;&lt;/body&gt;&lt;/html&gt;'</span></code></pre></div>
<p>Then attach the image and specify the <code>cid</code> argument.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">email</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/envelope.html">envelope</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="reference/html.html">html</a></span><span class="op">(</span><span class="va">html_body</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="reference/attachment.html">attachment</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"image.jpg"</span>, cid <span class="op">=</span> <span class="st">"image"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="sending-a-message">Sending a Message<a class="anchor" aria-label="anchor" href="#sending-a-message"></a>
</h3>
<p>Create a SMTP server object and send the message.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">smtp</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/server.html">server</a></span><span class="op">(</span>
  host <span class="op">=</span> <span class="st">"smtp.gmail.com"</span>,
  port <span class="op">=</span> <span class="fl">465</span>,
  username <span class="op">=</span> <span class="st">"bob@gmail.com"</span>,
  password <span class="op">=</span> <span class="st">"bd40ef6d4a9413de9c1318a65cbae5d7"</span>
<span class="op">)</span>
<span class="fu">smtp</span><span class="op">(</span><span class="va">email</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>To see the guts of the message as passed to the SMTP server:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">email</span>, details <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-starttls">Using STARTTLS<a class="anchor" aria-label="anchor" href="#using-starttls"></a>
</h3>
<p>If youâ€™re trying to send email with a host that uses the STARTTLS security protocol (like Google Mail, Yahoo! or AOL), then it will most probably be blocked due to insufficient security. In order to circumvent this, you can grant access to less secure apps. See the links below for specifics:</p>
<ul>
<li><a href="https://myaccount.google.com/security" class="external-link">Google</a></li>
<li>
<a href="https://login.yahoo.com/account/security" class="external-link">Yahoo!</a> and</li>
<li>
<a href="https://login.aol.com/account/security" class="external-link">AOL</a>.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="standards-documents">Standards Documents<a class="anchor" aria-label="anchor" href="#standards-documents"></a>
</h2>
<p>The following (draft) standards documents relate to emails:</p>
<ul>
<li><a href="https://tools.ietf.org/html/rfc2822" class="external-link">RFC 2822</a></li>
<li><a href="https://tools.ietf.org/html/rfc5322" class="external-link">RFC 5322</a></li>
<li>
<a href="https://tools.ietf.org/html/rfc6854" class="external-link">RFC 6854</a> (an update to RFC 5322).</li>
</ul>
</div>
<div class="section level2">
<h2 id="similar-packages">Similar Packages<a class="anchor" aria-label="anchor" href="#similar-packages"></a>
</h2>
<p>There is a selection of other R packages which also send emails:</p>
<ul>
<li><a href="https://cran.r-project.org/package=blastula" class="external-link">blastula</a></li>
<li>
<a href="https://cran.r-project.org/package=blatr" class="external-link">blatr</a> (Windows)</li>
<li><a href="https://cran.r-project.org/package=gmailr" class="external-link">gmailr</a></li>
<li><a href="https://cran.r-project.org/package=mail" class="external-link">mail</a></li>
<li><a href="https://cran.r-project.org/package=mailR" class="external-link">mailR</a></li>
<li><a href="https://cran.r-project.org/package=sendmailR" class="external-link">sendmailR</a></li>
<li><a href="https://github.com/ropensci-archive/ponyexpress" class="external-link">ponyexpress</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="blog-posts">Blog Posts<a class="anchor" aria-label="anchor" href="#blog-posts"></a>
</h2>
<table class="table">
<tr>
<td>
<img src="https://datawookie.dev/blog/2021/10/emayili-support-for-gmail-sendgrid-mailgun/featured.jpg" width="100px">
</td>
<td>
<a href="https://datawookie.dev/blog/2021/10/emayili-support-for-gmail-sendgrid-mailgun/" class="external-link">Support for Gmail, SendGrid &amp; Mailgun</a>
</td>
</tr>
<tr>
<td>
<img src="https://datawookie.dev/blog/2021/10/emayili-message-precedence/featured.png" width="100px">
</td>
<td>
<a href="https://datawookie.dev/blog/2021/10/emayili-message-precedence/" class="external-link">Message Precedence</a>
</td>
</tr>
<tr>
<td>
<img src="https://datawookie.dev/blog/2021/10/emayili-message-integrity/featured.png" width="100px">
</td>
<td>
<a href="https://datawookie.dev/blog/2021/10/emayili-message-integrity/" class="external-link">Message Integrity</a>
</td>
</tr>
<tr>
<td>
<img src="https://datawookie.dev/blog/2021/09/emayili-right-to-left/featured.jpg" width="100px">
</td>
<td>
<a href="https://datawookie.dev/blog/2021/09/emayili-right-to-left/" class="external-link">Right-to-Left</a>
</td>
</tr>
<tr>
<td>
<img src="https://datawookie.dev/blog/2021/09/emayili-styling-figures/featured.jpg" width="100px">
</td>
<td>
<a href="https://datawookie.dev/blog/2021/09/emayili-styling-figures/" class="external-link">Styling Figures</a>
</td>
</tr>
<tr>
<td>
<img src="https://datawookie.dev/blog/2021/09/emayili-managing-css/featured.jpg" width="100px">
</td>
<td>
<a href="https://datawookie.dev/blog/2021/09/emayili-managing-css/" class="external-link">Managing CSS</a>
</td>
</tr>
<tr>
<td>
<img src="https://datawookie.dev/blog/2021/09/emayili-r-markdown-parameters/featured.jpg" width="100px">
</td>
<td>
<a href="https://datawookie.dev/blog/2021/09/emayili-r-markdown-parameters/" class="external-link">R Markdown Parameters</a>
</td>
</tr>
<tr>
<td>
<img src="https://datawookie.dev/blog/2021/09/emayili-rendering-r-markdown/featured.jpg" width="100px">
</td>
<td>
<a href="https://datawookie.dev/blog/2021/09/emayili-rendering-r-markdown/" class="external-link">Rendering R Markdown</a>
</td>
</tr>
<tr>
<td>
<img src="https://datawookie.dev/blog/2021/09/emayili-rendering-plain-markdown/featured.jpg" width="100px">
</td>
<td>
<a href="https://datawookie.dev/blog/2021/09/emayili-rendering-plain-markdown" class="external-link">Rendering Plain Markdown</a>
</td>
</tr>
<tr>
<td>
<img src="https://datawookie.dev/blog/2021/09/emayili-interpolating-message-content/featured.jpg" width="100px">
</td>
<td>
<a href="https://datawookie.dev/blog/2021/09/emayili-interpolating-message-content" class="external-link">Interpolating Message Content</a>
</td>
</tr>
<tr>
<td>
<img src="https://datawookie.dev/blog/2021/08/emayili-rudimentary-email-address-validation/featured.jpg" width="100px">
</td>
<td>
<a href="https://datawookie.dev/blog/2021/08/emayili-rudimentary-email-address-validation" class="external-link">Rudimentary Email Address Validation</a>
</td>
</tr>
</table>
</div>
<div class="section level2">
<h2 id="developer-notes">Developer Notes<a class="anchor" aria-label="anchor" href="#developer-notes"></a>
</h2>
<div class="section level3">
<h3 id="code-coverage">Code Coverage<a class="anchor" aria-label="anchor" href="#code-coverage"></a>
</h3>
<p>You can find the test coverage report at <a href="https://app.codecov.io/gh/datawookie/emayili" class="external-link">Codecov</a>. For development purposes itâ€™s more convenient to use the <a href="https://cran.r-project.org/package=covr" class="external-link"><code>{covr}</code></a> package.</p>
<p>Generate a coverage report.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://covr.r-lib.org" class="external-link">covr</a></span><span class="op">)</span>

<span class="co"># Tests that are skipped on CRAN should still be included in coverage report.</span>
<span class="co">#</span>
<span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>NOT_CRAN <span class="op">=</span> <span class="st">"true"</span><span class="op">)</span>

<span class="fu">report</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Calculate test coverage.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">coverage</span> <span class="op">&lt;-</span> <span class="fu">package_coverage</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Coverage statistics as a data frame.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">coverage</span><span class="op">)</span></code></pre></div>
<p>Show lines without coverage.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">zero_coverage</span><span class="op">(</span><span class="va">coverage</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="checks">Checks<a class="anchor" aria-label="anchor" href="#checks"></a>
</h3>
<p>Check spelling.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">spelling</span><span class="fu">::</span><span class="fu">spell_check_package</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Use <a href="https://r-hub.github.io/rhub/" class="external-link">rhub</a> to test on various platforms.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Check for a specific platform.</span>
<span class="co">#</span>
<span class="fu">rhub</span><span class="fu">::</span><span class="fu">check</span><span class="op">(</span>platform <span class="op">=</span> <span class="st">"debian-gcc-devel"</span><span class="op">)</span>
<span class="fu">rhub</span><span class="fu">::</span><span class="fu">check_on_windows</span><span class="op">(</span>check_args <span class="op">=</span> <span class="st">"--force-multiarch"</span><span class="op">)</span>
<span class="fu">rhub</span><span class="fu">::</span><span class="fu">check_on_solaris</span><span class="op">(</span><span class="op">)</span>

<span class="co"># Check on a bunch of platforms.</span>
<span class="co">#</span>
<span class="fu">rhub</span><span class="fu">::</span><span class="fu">check_for_cran</span><span class="op">(</span><span class="op">)</span>

<span class="co"># Check on important platforms.</span>
<span class="co">#</span>
<span class="fu">rhub</span><span class="fu">::</span><span class="fu">check_for_cran</span><span class="op">(</span>platforms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>
  <span class="st">"debian-gcc-release"</span>,
  <span class="st">"ubuntu-gcc-release"</span>,
  <span class="st">"macos-m1-bigsur-release"</span>,
  <span class="st">"windows-x86_64-release"</span>,
  <span class="cn">NULL</span>
<span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=emayili" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/datawookie/emayili/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/datawookie/emayili/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing emayili</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://datawookie.netlify.com/" class="external-link">Andrew B. Collier</a> <br><small class="roles"> Author, maintainer, copyright holder </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=emayili" class="external-link"><img src="https://www.r-pkg.org/badges/version/emayili" alt="CRAN status"></a></li>
<li><a href="https://codecov.io/github/datawookie/emayili" class="external-link"><img src="https://img.shields.io/codecov/c/github/datawookie/emayili.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://datawookie.netlify.com/" class="external-link">Andrew B. Collier</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
